---
title: "Java란? (1/2)"
excerpt: "Java에 대한 설명과 변경사항"
last_modified_at: 2021-02-23T20:05:00
header:
  image: /assets/images/blog/java/java.png
categories:
  - Java
tags:
  - Programming
  - Java

toc: true
toc_ads: true
toc_sticky: true
---
# Java란?
- 제임스 고슬링(James Gosling)과 다른 연구원들이 개발한 객체 지향적인 프로그래밍 언어이다.

## Java의 특징
- 객체 지향 프로그래밍(Object-Oriented Programming) 언어[^OOP]이다.
  * JDK8 이후의 Lambda Expression은 함수형 프로그래밍[^FP]을 지원한다.
- 컴파일 언어인 동시에 인터프리터[^Interpreter] 언어이다.  
![javaCompile](../../assets/images/blog/java/javaCompile.png)
  * Javac(Java Compiler)를 이용하여 JVM이 이해할 수 있는 16진수의 Java bytecode로 변환한다.
  * 컴파일된 Java bytecode를 JVM(Java Virtual Machine)[^JVM]에서 Row 단위 수행의 경우 인터프리터를, 전체 수행의 경우 JIT(Just-In Time) Compiler[^JIT]를 이용하여 기계어로 변환하여 실행한다.
- JVM에서 실행되므로 운영체제에 독립적이다.
- JVM을 사용하여 자동 메모리 관리(Garbage Collection)[^GarbageCollection]가 된다.
- 동적 로딩을 지원한다.
  * Load-Time dynamic loading : 클래스를 로딩하는 과정에서 클래스를 로딩한다.
    ```java
    public class RuntimeLoading {
      public static void main(String[] args) {
        System.out.println("Hello!");
      }
    }
    ```
  * Run-Time dynamic loading : 코드를 실행하는 순간에 클래스를 로딩한다.
    ```java
    public enum Language {
      DEFAULT, KOREAN, ENGLISH;
    }
    public class KoreanGreeting implements Runnable {
      public void run() {
        System.out.println("안녕!");
      }
    }
    public class EnglishGreeting implements Runnable {
      public void run() {
        System.out.println("Hello!");
      }	
    }
    public class Greeting {
      public void greeting(Language language) {
        try {
          Class<?> _class = this.getClass(language);
          Runnable runnable = (Runnable)_class.newInstance();
          runnable.run();
        } catch (InstantiationException  |  IllegalAccessException e) {
          e.printStackTrace();
        }
      }
      private Class<?> getClass(Language language) {
        switch(language) {
          case KOREAN:
            return KoreanGreeting.class;
          default:
            return EnglishGreeting.class;
        }
      }
    }
    public class LoadTimeLoading {
      public static void main(String[] args) {
        Greeting greeting = new Greeting();
        greeting.greeting(Language.DEFAULT);
        greeting.greeting(Language.KOREAN);
      }
    }
    ```
- 네트워크와 분산처리를 지원한다.
  * 인터넷과 대규모 분산환경을 염두하여 다양한 네트워크 프로그래밍 라이브러리(Java API)를 통해 비교적 짧은 시간에 네트워킹 프로그래밍을 쉽게 개발할 수 있도록 지원한다.

# Support
JAVA 제품군의 지원은 아래의 도표[^Support]를 보면 알 수 있다.

| Release | GA Date | Premier Support Until | Extended Support Until | Sustaining Support
|:--------|:--------|:--------|:--------|:--------|
| 7 | July 2011 | July 2019 | July 2022\*\*\*\*\* | Indefinite |
| 8\*\* | March 2014 | March 2022 | December 2030 | Indefinite |
| 9 (non‑LTS) | September 2017 | March 2018 | Not Available | Indefinite |
| 10 (non‑LTS) | March 2018 | September 2018 | Not Available | Indefinite |
| 11 (LTS) | September 2018 | September 2023 | September 2026 | Indefinite |
| 12 (non‑LTS) | March 2019 | September 2019 | Not Available | Indefinite |
| 13 (non‑LTS) | September 2019 | March 2020 | Not Available | Indefinite |
| 14 (non‑LTS) | March 2020\*\*\* | September 2020 | Not Available | Indefinite |
| 15 (non‑LTS) | September 2020\*\*\* | March 2021 | Not Available | Indefinite |

# 주요 변경사항
## JAVA 8
- 자세한 내용은 오라클 공식 변경사항[^Java8]을 참조하기 바란다.

### Lambda Expression
- Stream : Iterater와 비슷하게 Collection의 저장요소를 하나씩 참조해서 Lambda Expression으로 처리할 수 있도록 해주는 반복자이다.
- Functional Inteface : 구현해야 할 메서드가 하나만 정의된 인터페이스이다.
- Method Reference : 람다 표현식이 단 하나의 메서드만 호출 하는 경우, 간결하게 표시하는 방법이다.

### Default Method
기존 인터페이스에 메서드를 추가할 때, 구현을 강제하지 않도록 하위 호환성을 보장하기 위해 기본 기능을 제공하는 것이다.

### Change JavaScript Engine
1998년에 출시되었던 구형 JavaScript Engine인 Rhino에서 ECMAScript-262 Edition 5.1 언어 사양을 기반으로 된 Nashorn[^Nashorn]으로 변경되었다.

### Change Memory Space
JAVA 7까지 Heap Space에 존재하였던 PermGen이 제거되고, Native Space에 존재하는 Metaspace로 변경되면서 Memory 영역 확보에 크게 의식할 필요를 없앴다.

### Improving Concurrent API
- ConcurrentHashMap : JAVA 5까지 사용하던 HashTable은 각 메서드에 syncronized 키워드를 사용하여 동시성을 개선하였지만, 성능적인 문제로 인해 개선된 ConcurrentHashMap을 제공한다.
- LongAdder, LongAccumulator : AtomicLong의 CAS(compareAndSwap)연산에 의한 Race Condition을 최소화 하기 위한 LongAdder를 제공한다.
- StampedLock : 읽기와 쓰기 접근에 대한 대해 락을 운영하는 ReadWriteLock의 성능이 느려 속도와 Optimistic Lock을 제공하는 StampedLock[^StampedLock]을 제공한다.

### Expansion IO/NIO
Base64 인코딩/디코딩을 지원하는 Base64를 제공하며, Files 클래스 내 read/write 등 개선된 기능을 제공한다.

### New Time API
Date와 Calendar 클래스는 불편성과 버그들[^DateBugs]로 인해 새로운 날짜 API인 JodaTime API를 도입하였다.

## JAVA 9
- 자세한 내용은 오라클 공식 변경사항[^Java9]을 참조하기 바란다.

### Add Java Platform Module System(Jigsaw)
유연한 런타임 이미지를 만들기 위해 Java 플랫폼을 모듈화하여 필요한 모듈만 경량화된 이미지를 만들 수 있게 되었다.

### Updates Process API
ProcessHandle API를 활용하여 운영체제의 프로세스 제어 및 관리를 위한 API의 기능이 향상되었다.

### Add JShell
JavasSript(Node JS), Python 같은 인터프리터 언어처럼 바로 코드를 작성하고 결과를 확인할 수 있는 REPL(Read-Eval-Print-Loop) 도구를 제공한다.

### Add Compact String
자바의 char 자료형은 UTF-16기반의 2Byte를 차지하는데 개선된 String은 문자열에 따라 Latin-1(1Byte)와 UTF-16(2Byte)으로 나누어졌다.

### SHA-3 Hash Algorithms
SHA-1, SHA-2 표준 해시 함수를 대체하는 SHA-3 해시 함수를 제공한다.

### Improve try-with-resource
try~with~resourec 구문 외부에서 정의된 객체도 final 혹은 effectively final이 적용된다.
```java
public class TryWithResource {
	public static void main(String[] args) {
		// Java7
		BufferedReader outerReader = new BufferedReader(new FileReader("test.txt"));
		try (BufferedReader innerReader = outerReader) {
			/* ... */
		}
		// Java9
		// Final or effectively final applied so that the reader can be used.
		BufferedReader reader = new BufferedReader(new FileReader("test.txt"));
		try (reader) {
			/* ... */
		}
	}
}
```

### Implement Selected ECMAScript 6 Features in Nashorn
Nashorn이 ECMAScript 6 버전의 많은 새로운 기능 중 일부를 구현하여 제공한다.

### Private Interface Method
Interface 외부에서 사용 및 참조(Overriding)이 불가능한 private & private static method라는 새로운 기능을 제공한다.

### Updates More Concurrency
개선된 CompletableFuture과 Reactive stream이 도입 등 프로그램의 동시성 및 병렬 처리 지원을 위한 라이브러리의 지원이 늘어났다.

### Improve Diamond Operator
익명 클래스에 Diamond Operator를 사용할 수 있다.

### Stream Improvements
Stream에 추가 메서드(iterate, takeWhile, dropWhile, ofNullable)를 제공하여 비동기 프로그래밍에 대한 편의성을 제공한다.

### Optional Class Stream
Optional에 추가 메서드(or, ifPresentOrElse, stream)로 활용도가 높아졌다.

### Convenience Factory Methods for Collections
불변 Collection을 보다 가독성 좋게 생성하기 위한 Factory Method를 제공한다.
```java
public class Collection {
	public static void main(String[] args) {
		// Java8
		List<String> list = Collections.unmodifiableList(Stream.of("foo", "bar", "baz").collect(Collectors.toList()));
		Set<String> set = Collections.unmodifiableSet(Stream.of("foo", "bar", "baz").collect(Collectors.toSet()));
		// Java9
		List<String> list = List.of("foo", "bar", "baz");
		Set<String> set = Set.of("foo", "bar", "baz");
	}
}
```

## JAVA 10
- 자세한 내용은 오라클 공식 변경사항[^Java10]을 참조하기 바란다.

### Local-variable type inference
명시적으로 언급하던 타입을 추론을 통해 가능하게 개선되었다.
```java
public class TypeInference {
	public static void main(String[] args) {
		// Java6
		Map<Integer, String> map = new HashMap<Integer, String>();
		// Java7
		Map<Integer, String> map = new HashMap<>();
		// Java10
		var map = new HashMap<Integer, String>();
	}
}
```

### Optional.orElseThrow() Method
Optional 클래스에 get 메서드를 활용하는 orElseThrow 메서드가 추가되었다.

### APIs for Creating Unmodifiable Collections
Collectors 클래스에 추가 메서드(toUnmodifiableList, toUnmodifiableSet, toUnmodifiableMap)를 활용하여 수정할 수 없는 컬랙션에서 데이터를 수집할 수 있다.

### Parallel Full GC for G1
G1은 단일 스레드로 Mark-Sweep-Compact알고리즘을 사용하였지만, 전체 GC를 병렬로 만들어 G1 최악의 지연 시간을 개선하였다.

### Root Certificates
JDK에서 기본 Certification Authority(CA)인증서를 제공합니다.

### Time-Based Release Versioning
OpenJDK 커뮤니티는 Java 플랫폼의 주요 릴리스가 6개월마다 발생 하는 새로운 시간 기반 릴리스 모델[^ReleaseModel]을 채택했습니다. JEP223[^JEP223]에서 도입 한 버전 번호 체계를 다시 캐스팅하여 새로운 기능을 포함 할 수있는 기능 릴리스를 정의하는 시간 기반 릴리스 모델과 버그만 수정하는 업데이트 릴리스에 더 적합하도록합니다.[^JEP322]

#### $FEATURE.$INTERIM.$UPDATE.$PATCH
- $FEATURE : 릴리스 내용에 관계없이 모든 기능 릴리스에 대해 증가하는 기능 릴리스 카운터dlek.
- $INTERIM : 호환되는 버그 수정 및 개선 사항을 포함하지만 호환되지 않는 변경 사항, 기능 제거 사항 및 표준 API 변경 사항이없는 비 기능 릴리스에 대해 증가하는 임시 릴리스 카운터이다.
- $UPDATE : 보안 문제, 회귀 및 최신 기능의 버그를 수정하는 호환 가능한 업데이트 릴리스에 대해 증가하는 카운터이다.
- $PATCH : 중요한 문제를 해결하기 위해 카운터이다.

## JAVA 11
- 자세한 내용은 오라클 공식 변경사항[^Java11]을 참조하기 바란다.

### Unicode 10
유니 코드 표준버전 10.0을 지원하도록 기존 플랫폼 API를 업그레이드 하였다.

### HTTP Client (Standard)
JAVA9에 도입되고 JAVA10에서 업데이트 된 jdk.incubator.http패키지는 제거되었고 java.net.http이 생성되었다.
- CompletableFutures을 통해 Non-Blocking Request, Response를 지원한다.
- java.util.concurrent.Flow API를 이용한 BackPressure와 FlowControl을 지원한다.
- 이전 HTTP/1.1 구현은 차단되었고, RXFlow 개념의 사용이 구현에 적용되어 HTTP/2을 지원한다.
- Factory method로 BodyPublisher, BodyHandler, BodySubscriber를 생성한다.

### Updated Locale Data to Unicode CLDR v33
Unicode Consortium의 CLDR(Common Locale Data Registry)을 기반으로하는 Locale Data가 Java11용으로 업데이트되었다.

### ZGC A Scalable Low-Latency Garbage Collector (Experimental)
확장 가능한 낮은 지연 가비지 수집기인 Z Garbage Collector가 실험적 기능으로 추가되었다.
- 일시 중지 시간은 10ms를 초과하지 않는다.
- 일시 중지 시간은 힙 또는 라이브 세트 크기에 따라 증가하지 않는다.
- 수백 메가 바이트에서 수 테라 바이트 크기의 힙을 처리한다.
- Linux/x64에서만 JVM 옵션(-XX:+UnlockExperimentalVMOptions, -XX:+UseZGC)을 추가하여 사용할 수 있다.
- 압축 된 oops, 압축 된 클래스 포인트 사용, 클래스 언로드는 지원하지 않으며, JVM 옵션을 추가하여도 효과가 없다.

### Nest-Based Access Control
Java 프로그래밍 언어의 기존 중첩 유형 개념과 일치하는 액세스 제어 컨텍스트인 nest가 추가되었다.[^Nest]

### Transport Layer Security (TLS) 1.3
TLS(Transport Layer Security) 1.3 사양(RFC 8446)의 구현이 포함되어 있다. 
- TLS 프로토콜 버전 이름 : TLSv1.3
- SSLContext 알고리즘 이름 : TLSv1.3
- TLS1.3 용 TLS 암호 그룹 이름 : TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384
- X509KeyManager의 keyType : RSASSA-PSS
- X509TrustManager의 authType : RSASSA-PSS

### Local-Variable Syntax for Lambda Parameters
변수 선언에 사용되는 var은 람다 식의 형식 매개 변수를 선언 할 때 사용할 수 있다.

### Deprecate the Nashorn JavaScript Engine
API와 함께 ECMAScript 언어 구조가 조정되고 수정되는 빠른 속도로 인해 유지 관리가 어려워 Nashorn JavaScript 스크립트 엔진과 API 및 jjs 도구를 제거하였다.

### Migrating From JDK 8 to Later JDK Releases
JDK 8 이후 JDK 릴리스 간에 많은 변경이 있었다. JDK 내부 API를 사용하는 코드는 계속 실행해야하지만 지원되는 API를 사용하려면 마이그레이션을 해야한다.
- [Oracle-Oracle_JDK_Migration_Guide](https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6)
- [Microsoft-Java8에서_Java11로_전환](https://docs.microsoft.com/ko-kr/azure/developer/java/fundamentals/transition-from-java-8-to-java-11)

# Reference
[^OOP]: [Blog-객체지향프로그래밍](../../paradigm/OOP)
[^FP]: [Blog-함수형프로그래밍](../../paradigm/FP)
[^Interpreter]: [Wiki-Interpreter](https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%84%B0%ED%94%84%EB%A6%AC%ED%84%B0)
[^JIT]: [Wiki-JIT_Compiler](https://ko.wikipedia.org/wiki/JIT_%EC%BB%B4%ED%8C%8C%EC%9D%BC)
[^JVM]: [Wiki-JVM](https://ko.wikipedia.org/wiki/%EC%9E%90%EB%B0%94_%EA%B0%80%EC%83%81_%EB%A8%B8%EC%8B%A0)
[^GarbageCollection]: [NaverD2-Java_Garbage_Collection](https://d2.naver.com/helloworld/1329)
[^Support]: [Oracle-OracleJava_SE_Product_Releases](https://www.oracle.com/java/technologies/java-se-support-roadmap.html)
[^Java8]: [Oracle-Java_8_What's_New](https://www.oracle.com/java/technologies/javase/8-whats-new.html)
[^Nashorn]: [Oracle-Nashron](https://www.oracle.com/technical-resources/articles/java/jf14-nashorn.html)
[^StampedLock]: [HeinzKabutz-PhaserAndStampedLock](https://www.javaspecialists.eu/talks/jfokus13/PhaserAndStampedLock.pdf)
[^DateBugs]: [NaverD2-Java's_Date_And_Time_API](https://d2.naver.com/helloworld/645609)
[^Java9]: [Oracle-Java_9_Release_Notes](https://docs.oracle.com/javase/9/whatsnew/toc.htm#JSNEW-GUID-71A09701-7412-4499-A88D-53FA8BFBD3D0)
[^Java10]: [Oracle-Java_10_New_Features_And_Enhancements](https://www.oracle.com/java/technologies/javase/10-relnote-issues.html#NewFeature)
[^ReleaseModel]: [Mark_Reinhold-Moving_Java_Forward_Faster](https://mreinhold.org/blog/forward-faster)
[^JEP223]: [OpenJDK-New_Version-String_Scheme](http://openjdk.java.net/jeps/223)
[^JEP322]: [OpenJDK-Time-Based_Release_Versioning](http://openjdk.java.net/jeps/322)
[^Java11]: [Oracle-Java_11_Release_Notes](https://www.oracle.com/java/technologies/javase/jdk-11-relnote.html#NewFeature)
[^Nest]: [OpenJDK-Nest-Based_Access_Control](http://openjdk.java.net/jeps/181)
[^Java12]: [Oracle-Java_12_Release_Notes](https://www.oracle.com/java/technologies/javase/12-relnote-issues.html#NewFeature)